{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/seniorproject/Documents/GitHub/que-ue-rn/Application/Components/Admin/ManageMenu/ManageFood.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { createStackNavigator } from \"@react-navigation/stack\";\nimport { FAB, Headline, Modal, Text, Button, IconButton, Title, TextInput, Card, Menu, HelperText } from \"react-native-paper\";\nimport TagInput from \"../../helpers/TagInput\";\nimport { getFoodItems, createFoodItem, updateFoodItem } from \"./foodController\";\nimport foodItem from \"./FoodItem\";\nimport FoodItem from \"./FoodItem\";\nvar Stack = createStackNavigator();\n\nvar MenuBar = function MenuBar(_ref) {\n  var navigation = _ref.navigation;\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      isMenuOpen = _React$useState2[0],\n      setIsMenuOpen = _React$useState2[1];\n\n  return React.createElement(View, {\n    style: {\n      position: \"relative\",\n      flexDirection: \"row\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 5\n    }\n  }, React.createElement(IconButton, {\n    compact: true,\n    disabled: true,\n    icon: \"magnify\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }), React.createElement(IconButton, {\n    icon: \"filter\",\n    compact: true,\n    disabled: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }), React.createElement(Menu, {\n    visible: isMenuOpen,\n    onDismiss: function onDismiss() {\n      return setIsMenuOpen(false);\n    },\n    style: {\n      marginLeft: \"auto\"\n    },\n    anchor: React.createElement(IconButton, {\n      disabled: true,\n      compact: true,\n      icon: \"cog\",\n      onPress: function onPress() {\n        return setIsMenuOpen(true);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }, React.createElement(Menu.Item, {\n    title: \"Manage Food Types\",\n    onPress: function onPress() {\n      setIsMenuOpen(false);\n      navigation.navigate(\"temp\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  })));\n};\n\nvar FoodMain = function (_React$Component) {\n  _inherits(FoodMain, _React$Component);\n\n  var _super = _createSuper(FoodMain);\n\n  function FoodMain(props) {\n    var _this2;\n\n    _classCallCheck(this, FoodMain);\n\n    _this2 = _super.call(this, props);\n    _this2.state = {\n      foodItems: [],\n      doCreateFoodItem: false,\n      newFoodItem: {\n        name: \"\",\n        prepTime: \"\",\n        ingredients: [],\n        tags: []\n      },\n      hasError: false\n    };\n    return _this2;\n  }\n\n  _createClass(FoodMain, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      getFoodItems().then(function (result) {\n        _this3.setState({\n          foodItems: result\n        });\n      }).catch(function (err) {\n        console.error(err);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _this$state = this.state,\n          foodItems = _this$state.foodItems,\n          doCreateFoodItem = _this$state.doCreateFoodItem,\n          newFoodItem = _this$state.newFoodItem,\n          hasError = _this$state.hasError;\n\n      var addFoodItem = function addFoodItem() {\n        var newID = createFoodItem(newFoodItem);\n\n        _this4.setState({\n          foodItems: [].concat(_toConsumableArray(foodItems), [_objectSpread(_objectSpread({}, newFoodItem), {}, {\n            id: newID\n          })]),\n          newFoodItem: null\n        });\n      };\n\n      var listFoodItems = function listFoodItems() {\n        if (foodItems && foodItems.length) {\n          return foodItems.map(function (food) {\n            return React.createElement(FoodItem, _extends({}, food, {\n              onArchive: function onArchive(pID) {\n                var archivee = foodItems.find(function (_ref2) {\n                  var id = _ref2.id;\n                  return id == pID;\n                });\n                updateFoodItem(_objectSpread(_objectSpread({}, archivee), {}, {\n                  archived: true\n                })).then(function (result) {\n                  console.log(\"result\", result);\n                });\n              },\n              style: {\n                margin: 10\n              },\n              __self: _this4,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 11\n              }\n            }));\n          });\n        }\n\n        return React.createElement(View, {\n          style: {\n            padding: 50,\n            flex: 1,\n            justifyContent: \"center\",\n            alignItems: \"center\"\n          },\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 9\n          }\n        }, React.createElement(Headline, {\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 11\n          }\n        }, \"Looks like you don't have any food yet...\"));\n      };\n\n      var styles = StyleSheet.create({\n        input: {\n          margin: 10\n        }\n      });\n      return React.createElement(View, {\n        style: _objectSpread(_objectSpread({}, StyleSheet.absoluteFill), {}, {\n          padding: 50,\n          paddingTop: 0\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 7\n        }\n      }, React.createElement(MenuBar, {\n        navigation: this.props.navigation,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 9\n        }\n      }), React.createElement(Title, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 9\n        }\n      }, \"Food Items\"), React.createElement(ScrollView, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 9\n        }\n      }, listFoodItems()), React.createElement(FAB, {\n        icon: \"plus\",\n        onPress: function onPress() {\n          _this4.setState({\n            doCreateFoodItem: true\n          });\n        },\n        style: {\n          position: \"absolute\",\n          right: 0,\n          bottom: 0,\n          margin: 50\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 9\n        }\n      }), React.createElement(Modal, {\n        visible: doCreateFoodItem,\n        onDismiss: function onDismiss() {\n          _this4.setState({\n            newFoodItem: null,\n            doCreateFoodItem: false\n          });\n        },\n        contentContainerStyle: {\n          position: \"relative\",\n          top: -200,\n          backgroundColor: \"white\",\n          padding: 50\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 9\n        }\n      }, React.createElement(Title, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }\n      }, newFoodItem && newFoodItem.name || \"New Food Item\"), React.createElement(TextInput, {\n        label: \"Name\",\n        value: newFoodItem && newFoodItem.name || \"\",\n        onChangeText: function onChangeText(text) {\n          _this4.setState({\n            newFoodItem: _objectSpread(_objectSpread({}, newFoodItem), {}, {\n              name: text\n            })\n          });\n        },\n        style: styles.input,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }\n      }), React.createElement(TextInput, {\n        label: \"Prep Time (minuets)\",\n        value: newFoodItem && newFoodItem.prepTime || \"\",\n        error: hasError,\n        onChangeText: function onChangeText(text) {\n          var er = false;\n          if (isNaN(text)) er = true;\n\n          _this4.setState({\n            newFoodItem: _objectSpread(_objectSpread({}, newFoodItem), {}, {\n              prepTime: text\n            }),\n            hasError: er\n          });\n        },\n        style: styles.input,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }\n      }), React.createElement(HelperText, {\n        type: \"error\",\n        visible: hasError,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }\n      }, \"Prep time must be a number.\"), React.createElement(Button, {\n        onPress: function onPress() {\n          addFoodItem();\n\n          _this4.setState({\n            doCreateFoodItem: false\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }\n      }, \"Add\")));\n    }\n  }]);\n\n  return FoodMain;\n}(React.Component);\n\nexport default function ManageFood(props) {\n  return React.createElement(Stack.Navigator, {\n    initialRouteName: \"main\",\n    headerMode: \"none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 5\n    }\n  }, React.createElement(Stack.Screen, {\n    name: \"main\",\n    component: FoodMain,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/seniorproject/Documents/GitHub/que-ue-rn/Application/Components/Admin/ManageMenu/ManageFood.js"],"names":["React","createStackNavigator","FAB","Headline","Modal","Text","Button","IconButton","Title","TextInput","Card","Menu","HelperText","TagInput","getFoodItems","createFoodItem","updateFoodItem","foodItem","FoodItem","Stack","MenuBar","navigation","useState","isMenuOpen","setIsMenuOpen","position","flexDirection","marginLeft","navigate","FoodMain","props","state","foodItems","doCreateFoodItem","newFoodItem","name","prepTime","ingredients","tags","hasError","then","result","setState","catch","err","console","error","addFoodItem","newID","id","listFoodItems","length","map","food","pID","archivee","find","archived","log","margin","padding","flex","justifyContent","alignItems","styles","StyleSheet","create","input","absoluteFill","paddingTop","right","bottom","top","backgroundColor","text","er","isNaN","Component","ManageFood"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { View, StyleSheet, ScrollView } from \"react-native\";\nimport { createStackNavigator } from \"@react-navigation/stack\";\nimport {\n  FAB,\n  Headline,\n  Modal,\n  Text,\n  Button,\n  IconButton,\n  Title,\n  TextInput,\n  Card,\n  Menu,\n  HelperText,\n} from \"react-native-paper\";\nimport TagInput from \"../../helpers/TagInput\";\nimport { getFoodItems, createFoodItem, updateFoodItem } from \"./foodController\";\nimport foodItem from \"./FoodItem\";\nimport FoodItem from \"./FoodItem\";\nconst Stack = createStackNavigator();\nconst MenuBar = ({ navigation }) => {\n  const [isMenuOpen, setIsMenuOpen] = React.useState(false);\n\n  return (\n    <View\n      style={{\n        position: \"relative\",\n        flexDirection: \"row\",\n      }}\n    >\n      <IconButton compact disabled icon=\"magnify\"></IconButton>\n      <IconButton icon=\"filter\" compact disabled></IconButton>\n      <Menu\n        visible={isMenuOpen}\n        onDismiss={() => setIsMenuOpen(false)}\n        style={{\n          marginLeft: \"auto\",\n        }}\n        anchor={\n          <IconButton\n            disabled\n            compact\n            icon=\"cog\"\n            onPress={() => setIsMenuOpen(true)}\n          ></IconButton>\n        }\n      >\n        <Menu.Item\n          title=\"Manage Food Types\"\n          onPress={() => {\n            setIsMenuOpen(false);\n            navigation.navigate(\"temp\");\n          }}\n        ></Menu.Item>\n      </Menu>\n    </View>\n  );\n};\nclass FoodMain extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      foodItems: [],\n      doCreateFoodItem: false,\n      newFoodItem: {\n        name: \"\",\n        prepTime: \"\",\n        ingredients: [],\n        tags: [],\n      },\n      hasError: false,\n    };\n  }\n  componentDidMount() {\n    getFoodItems()\n      .then((result) => {\n        //console.log(\"result\", result);\n        this.setState({ foodItems: result });\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }\n  render() {\n    const { foodItems, doCreateFoodItem, newFoodItem, hasError } = this.state;\n\n    const addFoodItem = () => {\n      const newID = createFoodItem(newFoodItem);\n      this.setState({\n        foodItems: [...foodItems, { ...newFoodItem, id: newID }],\n        newFoodItem: null,\n      });\n    };\n\n    const listFoodItems = () => {\n      if (foodItems && foodItems.length) {\n        return foodItems.map((food) => (\n          <FoodItem\n            {...food}\n            onArchive={(pID) => {\n              const archivee = foodItems.find(({ id }) => id == pID);\n              updateFoodItem({ ...archivee, archived: true }).then((result) => {\n                console.log(\"result\", result);\n              });\n            }}\n            style={{ margin: 10 }}\n          />\n        ));\n      }\n\n      return (\n        <View\n          style={{\n            padding: 50,\n            flex: 1,\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          <Headline>Looks like you don't have any food yet...</Headline>\n        </View>\n      );\n    };\n    const styles = StyleSheet.create({\n      input: {\n        margin: 10,\n      },\n    });\n\n    return (\n      <View style={{ ...StyleSheet.absoluteFill, padding: 50, paddingTop: 0 }}>\n        <MenuBar navigation={this.props.navigation}></MenuBar>\n        <Title>Food Items</Title>\n        <ScrollView>{listFoodItems()}</ScrollView>\n        <FAB\n          icon=\"plus\"\n          onPress={() => {\n            this.setState({ doCreateFoodItem: true });\n          }}\n          style={{ position: \"absolute\", right: 0, bottom: 0, margin: 50 }}\n        />\n        <Modal\n          visible={doCreateFoodItem}\n          onDismiss={() => {\n            this.setState({\n              newFoodItem: null,\n              doCreateFoodItem: false,\n            });\n          }}\n          contentContainerStyle={{\n            position: \"relative\",\n            top: -200,\n            backgroundColor: \"white\",\n            padding: 50,\n          }}\n        >\n          <Title>{(newFoodItem && newFoodItem.name) || \"New Food Item\"}</Title>\n          <TextInput\n            label=\"Name\"\n            value={(newFoodItem && newFoodItem.name) || \"\"}\n            onChangeText={(text) => {\n              this.setState({ newFoodItem: { ...newFoodItem, name: text } });\n            }}\n            style={styles.input}\n          />\n          <TextInput\n            label=\"Prep Time (minuets)\"\n            value={(newFoodItem && newFoodItem.prepTime) || \"\"}\n            error={hasError}\n            onChangeText={(text) => {\n              let er = false;\n              if (isNaN(text)) er = true;\n              this.setState({\n                newFoodItem: { ...newFoodItem, prepTime: text },\n                hasError: er,\n              });\n            }}\n            style={styles.input}\n          />\n          <HelperText type=\"error\" visible={hasError}>\n            Prep time must be a number.\n          </HelperText>\n          <Button\n            onPress={() => {\n              addFoodItem();\n              this.setState({ doCreateFoodItem: false });\n            }}\n          >\n            Add\n          </Button>\n        </Modal>\n      </View>\n    );\n  }\n}\n\nexport default function ManageFood(props) {\n  return (\n    <Stack.Navigator initialRouteName=\"main\" headerMode=\"none\">\n      <Stack.Screen name=\"main\" component={FoodMain} />\n    </Stack.Navigator>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}